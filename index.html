<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WorkTX | Elite Command Hub</title>
    <style>
        /* Modern Dark Theme Styling */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #080a0f; color: #e6edf3; overflow: hidden; }
        .dashboard-wrapper { display: flex; height: 100vh; }

        /* Navigation Sidebar */
        .sidebar { width: 70px; background: #0d1117; border-right: 1px solid #30363d; display: flex; flex-direction: column; align-items: center; padding: 20px 0; }
        .logo { color: #58a6ff; font-weight: bold; font-size: 24px; margin-bottom: 40px; }

        /* Main Dashboard Area */
        .main-content { flex: 1; display: flex; flex-direction: column; background: radial-gradient(circle at top right, #161b22, #080a0f); }
        .top-bar { height: 65px; padding: 0 30px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #30363d; background: rgba(13, 17, 23, 0.8); backdrop-filter: blur(10px); }
        .badge { background: #238636; font-size: 10px; padding: 2px 8px; border-radius: 10px; margin-left: 10px; }

        /* Chat Logs */
        .chat-logs { flex: 1; overflow-y: auto; padding: 30px; display: flex; flex-direction: column; gap: 15px; }
        .log-entry { display: flex; gap: 12px; font-size: 14px; padding: 8px 12px; border-radius: 6px; transition: 0.3s; }
        .log-entry:hover { background: rgba(255,255,255,0.03); }
        .timestamp { color: #8b949e; font-family: monospace; min-width: 60px; }
        .role-user { color: #7ee787; font-weight: bold; }

        /* Terminal Style Input */
        .input-area { padding: 20px 30px; background: #0d1117; border-top: 1px solid #30363d; }
        .terminal-box { background: #161b22; border: 1px solid #30363d; border-radius: 6px; display: flex; align-items: center; padding: 12px 15px; }
        .prefix { color: #58a6ff; font-family: monospace; margin-right: 10px; font-weight: bold; }
        input { background: transparent; border: none; color: white; flex: 1; outline: none; font-family: monospace; font-size: 14px; }
        button { background: #238636; color: white; border: none; padding: 6px 18px; border-radius: 4px; cursor: pointer; font-weight: bold; transition: 0.2s; }
        button:hover { background: #2ea043; }
    </style>
</head>
<body>

    <div class="dashboard-wrapper">
        <nav class="sidebar">
            <div class="logo">W</div>
        </nav>

        <main class="main-content">
            <header class="top-bar">
                <div><strong>Elite Hub Console</strong> <span class="badge">SECURE</span></div>
                <div style="font-size: 12px; color: #8b949e;">System: <span style="color: #7ee787;">Connected</span></div>
            </header>

            <div class="chat-logs" id="chatLogs"></div>

            <footer class="input-area">
                <div class="terminal-box">
                    <span class="prefix">root@worktx:~$</span>
                    <input type="text" id="msgInput" placeholder="Enter message or command..." autocomplete="off">
                    <button onclick="sendMessage()">SEND</button>
                </div>
            </footer>
        </main>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

    <script>
        // 1. Firebase Configuration from your Screenshot
        const firebaseConfig = {
            apiKey: "AIzaSyCGLx6zG0dTcdSJslv112f5p",
            authDomain: "work-txt.firebaseapp.com",
            projectId: "work-txt",
            storageBucket: "work-txt.firebasestorage.app",
            messagingSenderId: "906712499506",
            appId: "1:906712499506:web:902ee580b41aa3d5b5c32b",
            measurementId: "G-YR5D5T4544"
        };

        // 2. Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // 3. Send Message to Firestore
        function sendMessage() {
            const input = document.getElementById('msgInput');
            const message = input.value.trim();
            
            if (message !== "") {
                db.collection("messages").add({
                    user: "ELITE_USER",
                    text: message,
                    timestamp: firebase.firestore.FieldValue.serverTimestamp()
                });
                input.value = "";
            }
        }

        // 4. Real-time Message Listener
        db.collection("messages").orderBy("timestamp", "asc")
            .onSnapshot((querySnapshot) => {
                const logs = document.getElementById('chatLogs');
                logs.innerHTML = ""; 
                querySnapshot.forEach((doc) => {
                    const data = doc.data();
                    const time = data.timestamp ? new Date(data.timestamp.toDate()).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}) : "Sync...";
                    
                    const newMsg = document.createElement('div');
                    newMsg.className = 'log-entry';
                    newMsg.innerHTML = `<span class="timestamp">[${time}]</span><span class="role-user">[ELITE]:</span><span>${data.text}</span>`;
                    logs.appendChild(newMsg);
                });
                logs.scrollTop = logs.scrollHeight; // Auto-scroll to bottom
            });

        // 5. Trigger Send on Enter Key
        document.getElementById('msgInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });
    </script>
</body>
</html>
